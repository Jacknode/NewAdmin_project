webpackJsonp([42],{HVDO:function(n,t,a){(n.exports=a("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},rQNA:function(n,t,a){var e=a("HVDO");"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);a("rjj0")("edde6342",e,!0)},zzED:function(n,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("SJI6"),s=a("jvWE"),o={name:"",data:function(){return{addDialog:!1,isLoading:!1,total:0,formLabelWidth:"120px",appOptions:[{name:"android",value:"0"},{name:"ios",value:"1"},{name:"电脑",value:"2"}],options:{loginUserID:"huileyou",loginUserPass:"123",operateUserID:"lianglile",operateUserName:"",pcName:"",data:{sm_as_AppID:"",sm_as_Name:"",sm_as_Image:"",sm_as_Type:"",sm_as_DownLoadUrl:"",sm_as_Size:"",sm_as_VersionNo:"",sm_as_Describe:""}}}},computed:Object(e.mapGetters)(["uploadAppList"]),created:function(){this.initData(1)},methods:{Delete:function(n){var t=this,a={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"huileyou",operateUserName:"",pcName:"",token:"",data:{sm_as_ID:n}};this.$store.dispatch("DeleteApp",a).then(function(){t.initData(1)},function(n){console.log(n)})},handleCurrentChange:function(n){this.initData(n)},initData:function(n){var t=this,a={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",page:n||1,rows:"5",sm_as_ManagerID:"lianglile"};this.isLoading=!0,this.$store.dispatch("initUploadApp",a).then(function(n){t.total=n,t.isLoading=!1},function(n){t.$notify({message:n,type:"error"})})},uploaNode:function(){var n=this;setTimeout(function(){n.$refs.upload&&n.$refs.upload.addEventListener("change",function(){var t=n.$refs.upload.files[0];t&&(t.size>1048576?n.options.data.sm_as_Size=(Math.round(100*t.size/1048576)/100).toString()+"MB":n.options.data.sm_as_Size=(Math.round(100*t.size/1024)/100).toString()+"KB"),n.isLoading=!0,n.options.data.sm_as_DownLoadUrl="加载中...";var a=new FormData;a.append("fileToUpload",t);var e=new XMLHttpRequest;e.open("POST",s.a+"/OSSFile/PostToOSS"),e.send(a),e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){n.isLoading=!1;var t=JSON.parse(e.responseText);n.options.data.sm_as_DownLoadUrl=t.data}}})},30)},uploadApp:function(){for(var n in this.options.data)this.options.data[n]="";this.addDialog=!0,this.$store.commit("setTranstionFalse"),this.uploaNode()},addSubmit:function(){var n=this;this.$store.dispatch("AddUploadApp",this.options).then(function(t){n.$notify({message:t,type:"success"}),n.initData(1)},function(t){n.$notify({message:t,type:"error"})}),this.addDialog=!1}}},i={render:function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("section",{attrs:{id:"wrap"}},[a("h1",{staticClass:"userClass",staticStyle:{"font-size":"20px","font-weight":"bold"}},[n._v("上传App")]),n._v(" "),a("el-col",{staticClass:"formSearch",attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item"),n._v(" "),a("el-form-item"),n._v(" "),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:n.uploadApp}},[n._v("上传")])],1)],1)],1),n._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:n.uploadAppList,"highlight-current-row":""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:n._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"发布管理员ID:"}},[a("span",[n._v(n._s(t.row.sm_as_ManagerID))])]),n._v(" "),a("el-form-item",{attrs:{label:"名称:"}},[a("span",[n._v(n._s(t.row.sm_as_Name))])]),n._v(" "),a("el-form-item",{attrs:{label:"AppID:"}},[a("span",[n._v(n._s(t.row.sm_as_AppID))])]),n._v(" "),a("el-form-item",{attrs:{label:"应用程序图标:"}},[a("span",[n._v(n._s(t.row.sm_as_Image))])]),n._v(" "),a("el-form-item",{attrs:{label:"大小:"}},[a("span",[n._v(n._s(t.row.sm_as_Size))])]),n._v(" "),a("el-form-item",{attrs:{label:"下载地址:"}},[a("a",{staticStyle:{cursor:"pointer",color:"#f60"},attrs:{href:t.row.sm_as_DownLoadUrl}},[n._v("点击下载")])]),n._v(" "),a("el-form-item",{attrs:{label:"app类型:"}},[a("span",[n._v(n._s(n._f("getAppType")(t.row.sm_as_Type)))])]),n._v(" "),a("el-form-item",{attrs:{label:"审核状态:"}},[a("span",[n._v(n._s(n._f("getStatue")(t.row.sm_as_Statue)))])]),n._v(" "),a("el-form-item",{attrs:{label:"版本号:"}},[a("span",[n._v(n._s(t.row.sm_as_VersionNo))])]),n._v(" "),a("el-form-item",{attrs:{label:"文字描述:"}},[a("span",[n._v(n._s(t.row.sm_as_Describe))])]),n._v(" "),a("el-form-item",{attrs:{label:"审核员编码:"}},[a("span",[n._v(n._s(t.row.sm_as_ValidateUserID))])]),n._v(" "),a("el-form-item",{attrs:{label:"审核日期:"}},[a("span",[n._v(n._s(t.row.sm_as_ValidateDate))])]),n._v(" "),a("el-form-item",{attrs:{label:"审核未通过原因:"}},[a("span",[n._v(n._s(t.row.sm_as_FailedReason))])])],1)]}}])}),n._v(" "),a("el-table-column",{attrs:{align:"center",label:"App编号",prop:"sm_as_ID"}}),n._v(" "),a("el-table-column",{attrs:{align:"center",label:"版本号",prop:"sm_as_VersionNo"}}),n._v(" "),a("el-table-column",{attrs:{align:"center",label:"发布日期"},scopedSlots:n._u([{key:"default",fn:function(t){return[a("span",[n._v(n._s(n._f("getUseTime")(t.row.sm_as_OutDate)))])]}}])}),n._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){n.Delete(t.row.sm_as_ID)}}},[n._v("删除\n          ")])]}}])})],1),n._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right"}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:n.total,expression:"total"}],attrs:{"page-size":5,layout:"total, prev, pager, next",total:n.total},on:{"current-change":n.handleCurrentChange}})],1),n._v(" "),a("el-dialog",{attrs:{title:"上传App",visible:n.addDialog},on:{"update:visible":function(t){n.addDialog=t}}},[a("el-form",{attrs:{model:n.options}},[a("el-form-item",{attrs:{label:"名称:","label-width":n.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:n.options.data.sm_as_Name,callback:function(t){n.$set(n.options.data,"sm_as_Name",t)},expression:"options.data.sm_as_Name"}})],1),n._v(" "),a("el-form-item",{attrs:{label:"AppID:","label-width":n.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入AppID"},model:{value:n.options.data.sm_as_AppID,callback:function(t){n.$set(n.options.data,"sm_as_AppID",t)},expression:"options.data.sm_as_AppID"}})],1),n._v(" "),a("el-form-item",{attrs:{label:"App类型:","label-width":n.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:n.options.data.sm_as_Type,callback:function(t){n.$set(n.options.data,"sm_as_Type",t)},expression:"options.data.sm_as_Type"}},n._l(n.appOptions,function(n){return a("el-option",{key:n.value,attrs:{label:n.name,value:n.value}})}))],1),n._v(" "),a("el-form-item",{attrs:{label:"版本号:","label-width":n.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入版本号"},model:{value:n.options.data.sm_as_VersionNo,callback:function(t){n.$set(n.options.data,"sm_as_VersionNo",t)},expression:"options.data.sm_as_VersionNo"}})],1),n._v(" "),a("el-form-item",{attrs:{label:"文字描述:","label-width":n.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入文字描述"},model:{value:n.options.data.sm_as_Describe,callback:function(t){n.$set(n.options.data,"sm_as_Describe",t)},expression:"options.data.sm_as_Describe"}})],1),n._v(" "),a("el-form-item",{attrs:{label:"上传App:","label-width":n.formLabelWidth}},[a("a",{staticClass:"file",attrs:{href:"javascript:;"}},[n._v("上传App\n            "),a("input",{ref:"upload",attrs:{type:"file",name:"",multiple:""}})]),n._v(" "),a("p",{directives:[{name:"loading",rawName:"v-loading",value:n.isLoading,expression:"isLoading"}],staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","text-align":"center"}},[n._v(n._s(n.options.data.sm_as_DownLoadUrl))])])],1),n._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){n.addDialog=!1}}},[n._v("取 消")]),n._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:n.addSubmit}},[n._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(o,i,!1,function(n){a("rQNA")},"data-v-04813d4a",null);t.default=l.exports}});